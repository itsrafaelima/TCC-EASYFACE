<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EASYFACE - Interface Acess√≠vel</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <div class="header">
        <h1>üíª EASYFACE</h1>
        <div class="instructions">
            üîç Use TAB para navegar | ENTER ou ESPA√áO para ativar | ESC para voltar | Setas para mover
        </div>
    </div>

    <div class="main-container">
        <div class="sidebar">
            <h2>üéØ Menu Principal</h2>
            <button class="menu-button" onclick="showTextEditor()" tabindex="1">
                üìù Editor de Texto
            </button>
            <button class="menu-button" onclick="showCalculator()" tabindex="2">
                üî¢ Calculadora
            </button>
            <button class="menu-button" onclick="showVirtualKeyboard()" tabindex="3">
                ‚å®Ô∏è Teclado Virtual
            </button>
            <button class="menu-button" onclick="showWebBrowser()" tabindex="4">
                üåê Navegador Web
            </button>
            <button class="menu-button" onclick="showAccessibilitySettings()" tabindex="5">
                ‚öôÔ∏è Configura√ß√µes
            </button>
            <button class="menu-button" onclick="showHelp()" tabindex="6">
                ‚ùì Ajuda
            </button>
        </div>

        <div class="content-area">
            <!-- Editor de Texto -->
            <div id="text-editor" class="hidden">
                <h2>üìù Editor de Texto</h2>
                <textarea id="text-area" class="text-input" rows="10" 
                    placeholder="Digite seu texto aqui... Use TAB para navegar pelos bot√µes abaixo."
                    tabindex="7"></textarea>
                <button class="action-button" onclick="saveText()" tabindex="8">üíæ Salvar Texto</button>
                <button class="action-button" onclick="clearText()" tabindex="9">üóëÔ∏è Limpar</button>
                <button class="action-button" onclick="speakText()" tabindex="10">üîä Ler Texto</button>
            </div>

            <!-- Calculadora -->
            <div id="calculator-app" class="hidden">
                <h2>üî¢ Calculadora</h2>
                <div class="calc-display" id="calc-display">0</div>
                <div class="calculator active">
                    <button class="calc-button" onclick="clearCalc()" tabindex="11">C</button>
                    <button class="calc-button" onclick="deleteLast()" tabindex="12">‚å´</button>
                    <button class="calc-button operator" onclick="addToCalc('/')" tabindex="13">√∑</button>
                    <button class="calc-button operator" onclick="addToCalc('*')" tabindex="14">√ó</button>
                    
                    <button class="calc-button" onclick="addToCalc('7')" tabindex="15">7</button>
                    <button class="calc-button" onclick="addToCalc('8')" tabindex="16">8</button>
                    <button class="calc-button" onclick="addToCalc('9')" tabindex="17">9</button>
                    <button class="calc-button operator" onclick="addToCalc('-')" tabindex="18">-</button>
                    
                    <button class="calc-button" onclick="addToCalc('4')" tabindex="19">4</button>
                    <button class="calc-button" onclick="addToCalc('5')" tabindex="20">5</button>
                    <button class="calc-button" onclick="addToCalc('6')" tabindex="21">6</button>
                    <button class="calc-button operator" onclick="addToCalc('+')" tabindex="22">+</button>
                    
                    <button class="calc-button" onclick="addToCalc('1')" tabindex="23">1</button>
                    <button class="calc-button" onclick="addToCalc('2')" tabindex="24">2</button>
                    <button class="calc-button" onclick="addToCalc('3')" tabindex="25">3</button>
                    <button class="calc-button equals" onclick="calculateResult()" tabindex="26" rowspan="2">=</button>
                    
                    <button class="calc-button" onclick="addToCalc('0')" tabindex="27" style="grid-column: span 2;">0</button>
                    <button class="calc-button" onclick="addToCalc('.')" tabindex="28">.</button>
                </div>
            </div>

            <!-- Teclado Virtual -->
            <div id="virtual-keyboard-app" class="hidden">
                <h2>‚å®Ô∏è Teclado Virtual</h2>
                <input type="text" id="keyboard-input" class="text-input" 
                    placeholder="O texto digitado aparecer√° aqui..." tabindex="29">
                <div class="virtual-keyboard active" id="virtual-keyboard">
                    <!-- Primeira linha -->
                    <button class="key" onclick="typeKey('1')" tabindex="30">1</button>
                    <button class="key" onclick="typeKey('2')" tabindex="31">2</button>
                    <button class="key" onclick="typeKey('3')" tabindex="32">3</button>
                    <button class="key" onclick="typeKey('4')" tabindex="33">4</button>
                    <button class="key" onclick="typeKey('5')" tabindex="34">5</button>
                    <button class="key" onclick="typeKey('6')" tabindex="35">6</button>
                    <button class="key" onclick="typeKey('7')" tabindex="36">7</button>
                    <button class="key" onclick="typeKey('8')" tabindex="37">8</button>
                    <button class="key" onclick="typeKey('9')" tabindex="38">9</button>
                    <button class="key" onclick="typeKey('0')" tabindex="39">0</button>
                    
                    <!-- Segunda linha -->
                    <button class="key" onclick="typeKey('Q')" tabindex="40">Q</button>
                    <button class="key" onclick="typeKey('W')" tabindex="41">W</button>
                    <button class="key" onclick="typeKey('E')" tabindex="42">E</button>
                    <button class="key" onclick="typeKey('R')" tabindex="43">R</button>
                    <button class="key" onclick="typeKey('T')" tabindex="44">T</button>
                    <button class="key" onclick="typeKey('Y')" tabindex="45">Y</button>
                    <button class="key" onclick="typeKey('U')" tabindex="46">U</button>
                    <button class="key" onclick="typeKey('I')" tabindex="47">I</button>
                    <button class="key" onclick="typeKey('O')" tabindex="48">O</button>
                    <button class="key" onclick="typeKey('P')" tabindex="49">P</button>
                    
                    <!-- Terceira linha -->
                    <button class="key" onclick="typeKey('A')" tabindex="50">A</button>
                    <button class="key" onclick="typeKey('S')" tabindex="51">S</button>
                    <button class="key" onclick="typeKey('D')" tabindex="52">D</button>
                    <button class="key" onclick="typeKey('F')" tabindex="53">F</button>
                    <button class="key" onclick="typeKey('G')" tabindex="54">G</button>
                    <button class="key" onclick="typeKey('H')" tabindex="55">H</button>
                    <button class="key" onclick="typeKey('J')" tabindex="56">J</button>
                    <button class="key" onclick="typeKey('K')" tabindex="57">K</button>
                    <button class="key" onclick="typeKey('L')" tabindex="58">L</button>
                    <button class="key" onclick="typeKey('√á')" tabindex="59">√á</button>
                    
                    <!-- Quarta linha -->
                    <button class="key" onclick="typeKey('Z')" tabindex="60">Z</button>
                    <button class="key" onclick="typeKey('X')" tabindex="61">X</button>
                    <button class="key" onclick="typeKey('C')" tabindex="62">C</button>
                    <button class="key" onclick="typeKey('V')" tabindex="63">V</button>
                    <button class="key" onclick="typeKey('B')" tabindex="64">B</button>
                    <button class="key" onclick="typeKey('N')" tabindex="65">N</button>
                    <button class="key" onclick="typeKey('M')" tabindex="66">M</button>
                    <button class="key" onclick="typeKey(',')" tabindex="67">,</button>
                    <button class="key" onclick="typeKey('.')" tabindex="68">.</button>
                    <button class="key" onclick="typeKey(';')" tabindex="69">;</button>
                    
                    <!-- √öltima linha -->
                    <button class="key space" onclick="typeKey(' ')" tabindex="70">ESPA√áO</button>
                    <button class="key backspace" onclick="backspaceKey()" tabindex="71">‚å´</button>
                    <button class="key enter" onclick="enterKey()" tabindex="72">ENTER</button>
                    <button class="key" onclick="clearKeyboard()" tabindex="73">LIMPAR</button>
                </div>
            </div>

            <!-- Navegador Web -->
            <div id="web-browser" class="hidden">
                <h2>üåê Navegador Simples</h2>
                <input type="url" id="url-input" class="text-input" 
                    placeholder="Digite uma URL (ex: https://google.com)" tabindex="74">
                <button class="action-button" onclick="loadWebsite()" tabindex="75">üîç Carregar Site</button>
                <div id="web-content" class="web-content">
                    <p class="web-placeholder">
                        Digite uma URL acima e clique em "Carregar Site" para navegar na web.
                    </p>
                </div>
            </div>

            <!-- Configura√ß√µes de Acessibilidade -->
            <div id="accessibility-settings" class="hidden">
                <h2>‚öôÔ∏è Configura√ß√µes de Acessibilidade</h2>
                <div class="settings-section">
                    <label class="settings-label">Tamanho da Fonte:</label>
                    <button class="action-button" onclick="changeFontSize('small')" tabindex="76">üìù Pequena</button>
                    <button class="action-button" onclick="changeFontSize('medium')" tabindex="77">üìñ M√©dia</button>
                    <button class="action-button" onclick="changeFontSize('large')" tabindex="78">üìò Grande</button>
                </div>
                <div class="settings-section">
                    <label class="settings-label">Contraste:</label>
                    <button class="action-button" onclick="toggleContrast()" tabindex="79">üé® Alto Contraste</button>
                </div>
                <div class="settings-section">
                    <button class="action-button" onclick="toggleSounds()" tabindex="80">üîä Sons de Feedback</button>
                </div>
            </div>

            <!-- Central de Ajuda -->
            <div id="help" class="hidden">
                <h2>‚ùì Central de Ajuda</h2>
                <div class="help-content">
                    <div class="help-section">
                        <h3>üéØ Navega√ß√£o por Teclado:</h3>
                        <p><strong>TAB:</strong> Move para o pr√≥ximo elemento</p>
                        <p><strong>SHIFT + TAB:</strong> Move para o elemento anterior</p>
                        <p><strong>ENTER ou ESPA√áO:</strong> Ativa bot√µes e links</p>
                        <p><strong>ESC:</strong> Volta ao menu principal</p>
                        <p><strong>Setas:</strong> Navegar em menus e listas</p>
                    </div>
                    
                    <div class="help-section">
                        <h3>üõ†Ô∏è Funcionalidades:</h3>
                        <p><strong>Editor de Texto:</strong> Escreva e salve documentos</p>
                        <p><strong>Calculadora:</strong> Realize c√°lculos matem√°ticos</p>
                        <p><strong>Teclado Virtual:</strong> Digite usando apenas o mouse ou teclado</p>
                        <p><strong>Navegador:</strong> Acesse sites da internet</p>
                    </div>
                    
                    <div class="help-section">
                        <h3>‚ôø Recursos de Acessibilidade:</h3>
                        <p><strong>‚Ä¢ Foco Visual:</strong> Borda amarela destaca o elemento ativo</p>
                        <p><strong>‚Ä¢ Feedback Sonoro:</strong> Sons confirmam a√ß√µes</p>
                        <p><strong>‚Ä¢ Alto Contraste:</strong> Melhora visibilidade</p>
                        <p><strong>‚Ä¢ Texto Grande:</strong> Facilita leitura</p>
                    </div>
                </div>
            </div>

            <!-- Tela de Boas-vindas -->
            <div id="welcome" class="welcome-content">
                <h2 class="welcome-title">Bem-vindo ao EASYFACE! üéØ</h2>
                <p class="welcome-text">
                    Esta interface foi criada especialmente para pessoas com mobilidade reduzida.<br>
                    Use o <strong>TAB</strong> para navegar e <strong>ENTER</strong> para selecionar.
                </p>
                <div class="welcome-box">
                    <h3>üöÄ Comece agora:</h3>
                    <p>Pressione <strong>TAB</strong> para ir ao menu lateral e escolha uma funcionalidade!</p>
                </div>
            </div>
        </div>
    </div>

    <div class="status-bar" id="status-bar">
        EASYFACE carregado! Use TAB para navegar pelos elementos.
    </div>

    <script>
        // Estado global da aplica√ß√£o
        let currentApp = 'welcome';
        let calcDisplay = '0';
        let calcExpression = '';
        let soundsEnabled = true;
        let highContrast = false;

        // Fun√ß√µes de navega√ß√£o e controle
        function showApp(appId) {
            // Esconde todas as apps
            const apps = ['text-editor', 'calculator-app', 'virtual-keyboard-app', 'web-browser', 'accessibility-settings', 'help', 'welcome'];
            apps.forEach(app => {
                document.getElementById(app).classList.add('hidden');
            });
            
            // Mostra a app selecionada
            document.getElementById(appId).classList.remove('hidden');
            currentApp = appId;
            updateStatus(`${getAppName(appId)} ativo`);
            playFeedbackSound();
        }

        function getAppName(appId) {
            const names = {
                'text-editor': 'Editor de Texto',
                'calculator-app': 'Calculadora',
                'virtual-keyboard-app': 'Teclado Virtual',
                'web-browser': 'Navegador Web',
                'accessibility-settings': 'Configura√ß√µes',
                'help': 'Central de Ajuda',
                'welcome': 'Tela Inicial'
            };
            return names[appId] || appId;
        }

        function showTextEditor() { showApp('text-editor'); }
        function showCalculator() { showApp('calculator-app'); }
        function showVirtualKeyboard() { showApp('virtual-keyboard-app'); }
        function showWebBrowser() { showApp('web-browser'); }
        function showAccessibilitySettings() { showApp('accessibility-settings'); }
        function showHelp() { showApp('help'); }

        // Fun√ß√µes do Editor de Texto
        function saveText() {
            const text = document.getElementById('text-area').value;
            if (text.trim()) {
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'easyface-texto.txt';
                a.click();
                updateStatus('Texto salvo com sucesso!');
                playFeedbackSound();
            } else {
                updateStatus('Nenhum texto para salvar.');
            }
        }

        function clearText() {
            document.getElementById('text-area').value = '';
            updateStatus('Texto limpo.');
            playFeedbackSound();
        }

        function speakText() {
            const text = document.getElementById('text-area').value;
            if (text.trim() && 'speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'pt-BR';
                speechSynthesis.speak(utterance);
                updateStatus('Lendo texto...');
            } else {
                updateStatus('Nenhum texto para ler ou recurso n√£o dispon√≠vel.');
            }
        }

        // Fun√ß√µes da Calculadora
        function addToCalc(value) {
            if (calcDisplay === '0' && !isNaN(value)) {
                calcDisplay = value;
            } else {
                calcDisplay += value;
            }
            calcExpression += value;
            document.getElementById('calc-display').textContent = calcDisplay;
            playFeedbackSound();
        }

        function calculateResult() {
            try {
                const result = eval(calcExpression.replace(/√ó/g, '*').replace(/√∑/g, '/'));
                calcDisplay = result.toString();
                calcExpression = result.toString();
                document.getElementById('calc-display').textContent = calcDisplay;
                updateStatus(`Resultado: ${calcDisplay}`);
                playFeedbackSound();
            } catch (error) {
                calcDisplay = 'Erro';
                calcExpression = '';
                document.getElementById('calc-display').textContent = calcDisplay;
                updateStatus('Erro no c√°lculo');
            }
        }

        function clearCalc() {
            calcDisplay = '0';
            calcExpression = '';
            document.getElementById('calc-display').textContent = calcDisplay;
            updateStatus('Calculadora limpa');
            playFeedbackSound();
        }

        function deleteLast() {
            if (calcDisplay.length > 1) {
                calcDisplay = calcDisplay.slice(0, -1);
                calcExpression = calcExpression.slice(0, -1);
            } else {
                calcDisplay = '0';
                calcExpression = '';
            }
            document.getElementById('calc-display').textContent = calcDisplay;
            playFeedbackSound();
        }

        // Fun√ß√µes do Teclado Virtual
        function typeKey(key) {
            const input = document.getElementById('keyboard-input');
            input.value += key;
            input.focus();
            playFeedbackSound();
        }

        function backspaceKey() {
            const input = document.getElementById('keyboard-input');
            input.value = input.value.slice(0, -1);
            playFeedbackSound();
        }

        function enterKey() {
            const input = document.getElementById('keyboard-input');
            input.value += '\n';
            playFeedbackSound();
        }

        function clearKeyboard() {
            document.getElementById('keyboard-input').value = '';
            updateStatus('Texto limpo');
            playFeedbackSound();
        }

        // Fun√ß√£o do Navegador
        function loadWebsite() {
            const url = document.getElementById('url-input').value;
            const webContent = document.getElementById('web-content');
            
            if (url.trim()) {
                webContent.innerHTML = `
                    <iframe src="${url}" class="browser-iframe">
                        Carregando site...
                    </iframe>
                `;
                updateStatus('Site carregado!');
                playFeedbackSound();
            } else {
                updateStatus('Por favor, digite uma URL v√°lida.');
            }
        }

        // Fun√ß√µes de Acessibilidade
        function changeFontSize(size) {
            const body = document.body;
            body.classList.remove('font-small', 'font-medium', 'font-large');
            
            if (size === 'small') {
                body.style.fontSize = '16px';
                updateStatus('Fonte pequena aplicada');
            } else if (size === 'medium') {
                body.style.fontSize = '18px';
                updateStatus('Fonte m√©dia aplicada');
            } else if (size === 'large') {
                body.style.fontSize = '22px';
                updateStatus('Fonte grande aplicada');
            }
            playFeedbackSound();
        }

        function toggleContrast() {
            highContrast = !highContrast;
            if (highContrast) {
                document.body.style.filter = 'contrast(150%) brightness(110%)';
                updateStatus('Alto contraste ativado');
            } else {
                document.body.style.filter = 'none';
                updateStatus('Alto contraste desativado');
            }
            playFeedbackSound();
        }

        function toggleSounds() {
            soundsEnabled = !soundsEnabled;
            updateStatus(soundsEnabled ? 'Sons ativados' : 'Sons desativados');
            if (soundsEnabled) playFeedbackSound();
        }

        // Fun√ß√£o de feedback sonoro
        function playFeedbackSound() {
            if (soundsEnabled) {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                } catch (error) {
                    // Fallback silencioso se o √°udio n√£o estiver dispon√≠vel
                }
            }
        }

        // Fun√ß√£o para atualizar status
        function updateStatus(message) {
            document.getElementById('status-bar').textContent = message;
            setTimeout(() => {
                document.getElementById('status-bar').textContent = 'EASYFACE ativo - Use TAB para navegar';
            }, 3000);
        }

        // Event listeners para teclado
        document.addEventListener('keydown', function(e) {
            // ESC volta ao menu principal
            if (e.key === 'Escape') {
                showApp('welcome');
                document.querySelector('.menu-button').focus();
            }
            
            // Enter e Espa√ßo ativam elementos focados
            if (e.key === 'Enter' || e.key === ' ') {
                const focused = document.activeElement;
                if (focused.classList.contains('menu-button') || 
                    focused.classList.contains('action-button') || 
                    focused.classList.contains('calc-button') ||
                    focused.classList.contains('key')) {
                    e.preventDefault();
                    focused.click();
                }
            }
            
            // Atalhos de teclado para apps (Ctrl + n√∫mero)
            if (e.ctrlKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        showTextEditor();
                        break;
                    case '2':
                        e.preventDefault();
                        showCalculator();
                        break;
                    case '3':
                        e.preventDefault();
                        showVirtualKeyboard();
                        break;
                    case '4':
                        e.preventDefault();
                        showWebBrowser();
                        break;
                    case '5':
                        e.preventDefault();
                        showAccessibilitySettings();
                        break;
                    case '6':
                        e.preventDefault();
                        showHelp();
                        break;
                }
            }
        });

        // Adicionar feedback visual em todos os elementos interativos
        document.addEventListener('DOMContentLoaded', function() {
            const interactiveElements = document.querySelectorAll('.menu-button, .action-button, .calc-button, .key');
            
            interactiveElements.forEach(element => {
                element.addEventListener('click', function() {
                    this.classList.add('pulse');
                    setTimeout(() => {
                        this.classList.remove('pulse');
                    }, 300);
                });
                
                element.addEventListener('focus', function() {
                    updateStatus(`Foco em: ${this.textContent || this.innerText}`);
                });
            });
        });

        // Inicializa√ß√£o
        window.addEventListener('load', function() {
            updateStatus('EASYFACE carregado e pronto para uso!');
            // Foco inicial no primeiro bot√£o do menu
            setTimeout(() => {
                document.querySelector('.menu-button').focus();
            }, 500);
        });

        // Suporte a comandos de voz (se dispon√≠vel)
        if ('webkitSpeechRecognition' in window) {
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'pt-BR';
            recognition.continuous = false;
            
            function startVoiceCommand() {
                recognition.start();
                updateStatus('Escutando comando de voz...');
            }
            
            recognition.onresult = function(event) {
                const command = event.results[0][0].transcript.toLowerCase();
                updateStatus(`Comando: ${command}`);
                
                if (command.includes('editor')) {
                    showTextEditor();
                } else if (command.includes('calculadora')) {
                    showCalculator();
                } else if (command.includes('teclado')) {
                    showVirtualKeyboard();
                } else if (command.includes('navegador')) {
                    showWebBrowser();
                } else if (command.includes('configura√ß√µes')) {
                    showAccessibilitySettings();
                } else if (command.includes('ajuda')) {
                    showHelp();
                } else {
                    updateStatus('Comando n√£o reconhecido');
                }
            };
            
            // Adicionar bot√£o de comando de voz ao menu
            window.addEventListener('load', function() {
                const voiceButton = document.createElement('button');
                voiceButton.className = 'menu-button';
                voiceButton.innerHTML = 'üé§ Comando de Voz';
                voiceButton.onclick = startVoiceCommand;
                voiceButton.tabIndex = 7;
                document.querySelector('.sidebar').appendChild(voiceButton);
            });
        }

        // Configura√ß√µes do usu√°rio (simuladas)
        let userSettings = {
            fontSize: 'medium',
            highContrast: false,
            soundsEnabled: true
        };

        function saveSettings() {
            updateStatus('Configura√ß√µes salvas!');
        }

        function loadSettings() {
            changeFontSize(userSettings.fontSize);
            if (userSettings.highContrast) toggleContrast();
            soundsEnabled = userSettings.soundsEnabled;
        }

        // Carrega configura√ß√µes ao iniciar
        setTimeout(loadSettings, 1000);
    </script>
</body>
</html>